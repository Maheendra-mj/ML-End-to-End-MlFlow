import os
 
from openai import AzureOpenAI
# from langchain_openai import AzureChatOpenAI
 
os.environ["OPENAI_API_VERSION"] = "2024-08-01-preview"
os.environ["DEPLOYMENT_NAME"] = "Dev_team_gpt-4o"
 
os.environ["AZURE_OPENAI_ENDPOINT"] = "https://openaidir.openai.azure.com"
 
os.environ["AZURE_OPENAI_API_KEY"] = "FGJxiEvh6zIfQGalphss4oQvxr2oBiGsGCVHDZXUNhziCayMUVYPJQQJ99AKACHYHv6XJ3w3AAABACOGvAwN"
 
endpoint = os.getenv("AZURE_OPENAI_ENDPOINT")
 
deployment = os.getenv("DEPLOYMENT_NAME")
 
client = AzureOpenAI(
 
api_key=os.getenv("AZURE_OPENAI_API_KEY"),
 
api_version=os.getenv("OPENAI_API_VERSION"),
 
azure_endpoint=os.getenv("AZURE_OPENAI_ENDPOINT")
 
)
 
user_prompt = "who are you?"
 
system_prompt = '''
    You will be provided with an input prompt and content as context that can be used to reply to the prompt.
 
    You will do 2 things:
 
    1. First, you will internally assess whether the content provided is relevant to reply to the input prompt.
 
    2a. If that is the case, answer directly using this content. If the content is relevant, use elements found in the content to craft a reply to the input prompt.
 
    2b. If the content is not relevant, use your own knowledge to reply or say that you don't know how to respond if your knowledge is not sufficient to answer.
 
    Stay concise with your answer, replying specifically to the input prompt without mentioning additional information provided in the context content.
    '''
 
messages_prompt = [
 
{"role": "system", "content": system_prompt},
 
{"role": "user", "content": user_prompt}
 
]
 
# Generate the response using Azure OpenAI
 
response = client.chat.completions.create(
 
model="Dev_team_gpt-4o",
 
messages=messages_prompt,
 
temperature=0.2,
 
max_tokens=4096
 
)
 
result = response.choices[0].message.content
 
result